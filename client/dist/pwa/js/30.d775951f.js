(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{4550:function(e,t,a){"use strict";a.r(t);a("ac1f"),a("00b4"),a("4de4"),a("d3b7"),a("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-color"},[t("div",{staticClass:"text-weight-bolder q-pb-xs q-pt-md text-center text-h6"},[e._v("\n    Delievery Areas and Rates\n  ")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-xs-12 col-sm-12 col-md-11"},[t("q-card",[t("div",{staticClass:"col-xs-12 col-sm-12 col-md-11 text-color text-center"},[t("q-form",{ref:"myForm",on:{submit:e.onSubmit}},[t("div",{staticClass:"row justify-center q-pb-md"},[t("div",{staticClass:"col-xs-11 col-md-5 q-pa-md"},[t("q-input",{attrs:{outlined:"",dense:"",dark:"",label:"Area","lazy-rules":"",color:"positive",rules:[function(e){return e&&e.length>0&&/\S/.test(e)||"Name of area required!"}]},model:{value:e.createDeliveryAreaObj.area,callback:function(t){e.$set(e.createDeliveryAreaObj,"area",t)},expression:"createDeliveryAreaObj.area"}})],1),t("div",{staticClass:"col-xs-11 col-md-5 q-pa-md"},[t("q-input",{directives:[{name:"cleave",rawName:"v-cleave",value:e.masks.TwoDecimals,expression:"masks.TwoDecimals"}],attrs:{outlined:"",dense:"",dark:"",label:"Delivery charge","lazy-rules":"",color:"positive",rules:[function(e){return e&&e>=0||"Delivery charge is required!"}]},nativeOn:{input:function(t){return e.onInputCleaveFormatValue()}},model:{value:e.createDeliveryAreaObj.price,callback:function(t){e.$set(e.createDeliveryAreaObj,"price",t)},expression:"createDeliveryAreaObj.price"}})],1)]),t("div",{staticClass:"row justify-center q-pb-md"},[t("q-btn",{staticClass:"q-mr-lg text-capitalize",attrs:{label:"Reset",color:"logoRed"},on:{click:e.onReset}}),t("q-btn",{staticClass:"text-capitalize",attrs:{label:"Create",type:"submit",color:"positive",loading:e.createBtnLoading}})],1)])],1),t("q-table",{attrs:{dense:"",separator:"cell",grid:e.$q.screen.lt.md,"wrap-cells":!0,data:e.getDeliveryCharges,columns:e.columns,filter:e.filter,"row-key":"_id","no-data-label":"No current delivery areas specified","no-results-label":"The filter didn't uncover any results","rows-per-page-options":[10,20]},scopedSlots:e._u([{key:"loading",fn:function(){return[t("q-inner-loading",{attrs:{showing:"",color:"logoRed"}})]},proxy:!0},{key:"top",fn:function(){return[t("div",{staticClass:"col-xs-12"},[t("div",{staticClass:"row justify-between q-pa-sm"},[t("div",{staticClass:"col-xs-6 col-md-4 col-lg-3"},[t("q-input",{attrs:{outlined:"",dense:"",light:"",color:"positive",debounce:"300",placeholder:"Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[t("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)],1)])])]},proxy:!0},{key:"no-data",fn:function(a){var r=a.message;return[t("div",{staticClass:"full-width row no-wrap q-gutter-sm"},[t("q-icon",{attrs:{size:"15px",name:"fas fa-exclamation-triangle",color:"logoRed"}}),t("span",[e._v(" "+e._s(r)+" ")])],1)]}},e.$q.screen.lt.md?{key:"item",fn:function(a){return[t("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition cursor-pointer"},[t("q-card",[t("q-card-section",{staticClass:"relative-position"},[t("q-card-section",{staticClass:"q-pa-none"},e._l(a.cols,(function(r){return t("div",{key:r.name,attrs:{props:a}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("q-item-label",{staticClass:"q-py-sm text-weight-bold text-color-dark",attrs:{lines:"1",caption:""}},[e._v(e._s(r.label))])],1),t("div",{staticClass:"col-6 text-right"},["actions"!==r.name?t("div",{staticClass:"text-color-dark"},[e._v("\n                            "+e._s(r.value)+"\n                          ")]):t("div",{staticClass:"text-color-dark"},[t("span",{staticClass:"q-pr-sm"},[t("q-btn",{staticClass:"text-capitalize",attrs:{round:"",color:"positive",icon:"edit",size:"sm"},on:{click:function(t){return e.handler("edit",a.row)}}},[t("q-tooltip",{attrs:{anchor:"top middle"}},[e._v("\n                                  Edit Item\n                                ")])],1)],1),t("q-btn",{staticClass:"text-capitalize",attrs:{round:"",color:"logoRed",icon:"delete",size:"sm"},on:{click:function(t){return e.handler("delete",a.row)}}},[t("q-tooltip",{attrs:{anchor:"top middle"}},[e._v("\n                                Delete Item\n                              ")])],1)],1)])])])})),0)],1)],1)],1)]}}:null,e.$q.screen.lt.md?null:{key:"header",fn:function(a){return[t("q-tr",{attrs:{props:a}},e._l(a.cols,(function(r){return t("q-th",{key:r.name,staticClass:"text-color-dark text-weight-bold",attrs:{props:a}},[e._v("\n                "+e._s(r.label)+"\n              ")])})),1)]}},e.$q.screen.lt.md?null:{key:"body",fn:function(a){return[t("q-tr",{class:"cursor-pointer",attrs:{props:a}},e._l(a.cols,(function(r){return t("q-td",{key:r.name,attrs:{props:a}},["actions"===r.name?[t("div",{staticClass:"text-color-dark row justify-center no-wrap"},[t("span",{staticClass:"q-pr-sm"},[t("q-btn",{staticClass:"text-capitalize",attrs:{round:"",color:"positive",icon:"edit",size:"md"},on:{click:function(t){return e.handler("edit",a.row)}}},[t("q-tooltip",{attrs:{anchor:"top middle"}},[e._v("\n                          Edit Item\n                        ")])],1)],1),t("q-btn",{staticClass:"text-capitalize",attrs:{round:"",color:"logoRed",icon:"delete",size:"md"},on:{click:function(t){return e.handler("delete",a.row)}}},[t("q-tooltip",{attrs:{anchor:"top middle"}},[e._v("\n                        Delete Item\n                      ")])],1)],1)]:[t("div",{staticClass:"row no-wrap text-color-dark"},[e._v("\n                    "+e._s(r.value)+"\n                  ")])]],2)})),1)]}}],null,!0)})],1)],1)]),t("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down",persistent:""},model:{value:e.viewUpdateDialog,callback:function(t){e.viewUpdateDialog=t},expression:"viewUpdateDialog"}},[t("update-delivery-charge",{attrs:{selectedDeliveryAreaObj:e.selectedDeliveryAreaObj},on:{closeViewDialog:e.closeUpdateDialog}})],1),t("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down",persistent:""},model:{value:e.viewDeleteDialog,callback:function(t){e.viewDeleteDialog=t},expression:"viewDeleteDialog"}},[t("query-delete-request",{attrs:{selectedItem:e.selectedDeliveryAreaObj,deleteFunction:e.deleteFunction},on:{closeDeleteDialog:e.closeDeleteDialog}})],1)],1)},i=[],l=a("c973"),n=a.n(l),s=(a("96cf"),a("e260"),a("e6cf"),a("3ca3"),a("ddb0"),a("c707")),o=a.n(s),c=a("7fd9"),d={name:"cleave",bind:function(e,t){var a=e.querySelector("input");a._vCleave=new c["a"](a,t.value)},unbind:function(e){var t=e.querySelector("input");t._vCleave.destroy()}},u={components:{"update-delivery-charge":function(){return a.e(29).then(a.bind(null,"6199"))},"query-delete-request":function(){return a.e(3).then(a.bind(null,"6f8a"))}},mixins:[],props:{},directives:{cleave:d},data:function(){return{masks:{TwoDecimals:{numeral:!0,numeralDecimalMark:".",delimiter:"",numeralPositiveOnly:!0,numeralDecimalScale:2}},viewUpdateDialog:!1,viewDeleteDialog:!1,createBtnLoading:!1,createDeliveryAreaObj:{area:null,price:null},deleteFunction:"deleteDeliveryCharge",selectedDeliveryAreaObj:{},filter:"",columns:[{id:1,name:"area",required:!1,label:"Area",align:"left",field:function(e){return e.area},sortable:!0,headerStyle:"font-size:14px;"},{id:2,name:"price",required:!1,label:"Price",align:"left",field:function(e){return e.price},sortable:!0,headerStyle:"font-size:14px;"},{id:3,name:"actions",align:"center",label:"Actions",sortable:!1,required:!0,headerStyle:"font-size:14px;"}]}},computed:{getDeliveryCharges:function(){return o()(this.$store.getters.getAdminDeliveryCharges,(function(e){return e.area.toLowerCase()}))}},watch:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},methods:{onInputCleaveFormatValue:function(){this.createDeliveryAreaObj.price=event.target._vCleave.getFormattedValue()},closeUpdateDialog:function(){this.viewUpdateDialog=!1,this.selectedDeliveryAreaObj={}},closeDeleteDialog:function(){this.viewDeleteDialog=!1,this.selectedDeliveryAreaObj={}},handler:function(e,t){switch(this.selectedDeliveryAreaObj=t,e){case"edit":this.viewUpdateDialog=!0;break;case"delete":this.viewDeleteDialog=!0;break;default:break}},onSubmit:function(){var e=this;return n()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.createBtnLoading=!0,t.next=3,e.$store.dispatch("updateDeliveryCharge",e.createDeliveryAreaObj);case 3:a=t.sent,a&&200===a.status&&(e.$q.notify({type:"positive",message:"Delivery area created successfully.",color:"positive"}),e.onReset()),e.createBtnLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},onReset:function(){this.createDeliveryAreaObj={area:null,price:!1},this.$refs.myForm.reset()}}},p=u,v=a("2877"),m=a("f09f"),f=a("0378"),b=a("27f9"),g=a("9c40"),y=a("eaac"),h=a("74f7"),D=a("0016"),q=a("a370"),w=a("0170"),C=a("05c0"),x=a("bd08"),k=a("357e"),_=a("db86"),j=a("24e8"),A=a("eebe"),O=a.n(A),z=Object(v["a"])(p,r,i,!1,null,null,null);t["default"]=z.exports;O()(z,"components",{QCard:m["a"],QForm:f["a"],QInput:b["a"],QBtn:g["a"],QTable:y["a"],QInnerLoading:h["a"],QIcon:D["a"],QCardSection:q["a"],QItemLabel:w["a"],QTooltip:C["a"],QTr:x["a"],QTh:k["a"],QTd:_["a"],QDialog:j["a"]})}}]);